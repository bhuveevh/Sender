<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>फाइल सीधे टेलीग्राम पर भेजें (कोशिश)</title>
</head>
<body>
    <input type="file" id="fileInput">
    <button onclick="uploadFileDirectly()">फाइल भेजें</button>
    <div id="status"></div>

    <script>
        // !! चेतावनी: यह कोड काम नहीं करेगा !!
        // !! यह केवल CORS और सुरक्षा मुद्दों को प्रदर्शित करने के लिए है !!

        const BOT_TOKEN = '8024108932:AAHMIqs0MFH9mN8NF5by-0uepbRHDyjqfdU'; // DO NOT DO THIS IN REAL CODE!
        const CHANNEL_ID = '-1002606747957'; // e.g., @your_channel_username or -100123456789

        async function uploadFileDirectly() {
            const fileInput = document.getElementById('fileInput');
            const statusDiv = document.getElementById('status');
            const file = fileInput.files[0];

            if (!file) {
                statusDiv.textContent = 'कृपया एक फाइल चुनें।';
                return;
            }

            statusDiv.textContent = 'फाइल सीधे टेलीग्राम पर भेजने की कोशिश हो रही है...';

            const formData = new FormData();
            formData.append('chat_id', CHANNEL_ID);
            formData.append('document', file);
            formData.append('caption', 'वेबसाइट से सीधी अपलोड की गई फाइल');

            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendDocument`, {
                    method: 'POST',
                    body: formData,
                });

                // यहाँ तक कोड शायद पहुँचेगा ही नहीं अगर CORS त्रुटि हुई।
                // अगर पहुँचता भी है, तो Telegram API शायद रिक्वेस्ट को अस्वीकार कर देगा
                // क्योंकि यह ब्राउज़र से आ रही है और टोकन पब्लिक है।

                if (response.ok) {
                    const data = await response.json();
                    if (data.ok) {
                        statusDiv.textContent = 'फाइल सफलतापूर्वक भेजी गई (यह असंभव है अगर यह सीधे काम करता)!';
                        statusDiv.style.color = 'green';
                    } else {
                        statusDiv.textContent = `Telegram API त्रुटि: ${data.description || 'अज्ञात'}`;
                        statusDiv.style.color = 'red';
                    }
                } else {
                    // HTTP स्टेटस कोड 4xx या 5xx
                    const errorText = await response.text();
                    statusDiv.textContent = `HTTP त्रुटि: ${response.status} - ${errorText}`;
                    statusDiv.style.color = 'red';
                }
            } catch (error) {
                // यह वह जगह है जहाँ आपको अक्सर त्रुटि मिलेगी: CORS ब्लॉक
                console.error('Fetch त्रुटि:', error);
                statusDiv.textContent = `त्रुटि: ${error.message}। यह सीधे काम नहीं करता है (संभवतः CORS या सुरक्षा)।`;
                statusDiv.style.color = 'red';
            }
        }
    </script>
</body>
</html>
